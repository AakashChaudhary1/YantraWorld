"use strict";(self.webpackChunkYantraWorld=self.webpackChunkYantraWorld||[]).push([[889],{9889:(L,l,s)=>{s.r(l),s.d(l,{UserManagementModule:()=>Q});var u=s(6895),m=s(8781),g=s(1669),i=s(433),f=s(7579),e=s(1571),h=s(3835),v=s(290),_=s(7185),b=s(4852),C=s(4339),p=s(324);function U(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",8)(1,"label",23),e._uU(2,"Select User: "),e.qZA(),e.TgZ(3,"ng-multiselect-dropdown",24),e.NdJ("ngModelChange",function(a){e.CHM(o);const d=e.oxw();return e.KtG(d.SelectedUser=a)})("onFilterChange",function(a){e.CHM(o);const d=e.oxw();return e.KtG(d.searchModelChanged.next(a))})("onSelect",function(a){e.CHM(o);const d=e.oxw();return e.KtG(d.onCustomerSelect(a))}),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.SelectedUser)("placeholder","Select User to edit")("settings",o.customerListDropdownSettings)("data",o.customerList)}}function x(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Customer Name is required"),e.qZA())}function Z(t,r){if(1&t&&(e.TgZ(0,"div",25),e.YNc(1,x,2,0,"div",26),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.name.errors.required)}}function M(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function I(t,r){if(1&t&&(e.TgZ(0,"div",25),e.YNc(1,M,2,0,"div",26),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.address_1.errors.required)}}function T(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"IsActive is required"),e.qZA())}function A(t,r){if(1&t&&(e.TgZ(0,"div",25),e.YNc(1,T,2,0,"div",26),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.IsActive.errors.required)}}function S(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function O(t,r){if(1&t&&(e.TgZ(0,"div",25),e.YNc(1,S,2,0,"div",26),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.Role.errors.required)}}function P(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Partner Name is required"),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"div",25),e.YNc(1,P,2,0,"div",26),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.f.partner_name.errors.required)}}function J(t,r){1&t&&(e.TgZ(0,"button",27),e._uU(1,"Error in the form"),e.qZA())}function F(t,r){1&t&&(e.TgZ(0,"button",28),e._uU(1,"Submit"),e.qZA())}const c=function(t,r){return{"is-valid":t,"is-invalid":r}},N=[{path:"userupdate",canActivate:[g.B],component:(()=>{class t{constructor(o,n,a,d,B,R){this.MasterService=o,this.customerService=n,this.formBilder=a,this.route=d,this.toastr=B,this.globalService=R,this.customerListDropdownSettings={singleSelection:!1,idField:"customer_id",textField:"name",limitSelection:1,closeDropDownOnSelection:!0,allowSearchFilter:!0,noDataAvailablePlaceholderText:"No Data Available"},this.searchModelChanged=new f.x,this.submitted=!1,this.customerIds=[]}ngOnInit(){this.searchCustomer(),this.updateForm()}updateForm(){this.userUpdateForm=this.formBilder.group({name:["",[i.kI.required]],address_1:["",[i.kI.required]],IsActive:["",[i.kI.required]],Role:["",[i.kI.required]],partner_name:["",[i.kI.required]]})}get f(){return this.userUpdateForm.controls}onCustomerSelect(o){this.customerId=o.customer_id,this.getCustomerById(),console.log(this.customerId)}getCustomerById(){this.customerService.getCustomerById(this.customerId).subscribe(o=>{this.customer=o.data,console.log(this.customer),this.patchUserForm()})}patchUserForm(){this.userUpdateForm.patchValue({name:this.customer.name,address_1:this.customer.customer_id,IsActive:this.customer.IsActive,Role:this.customer.Role,partner_name:this.customer.partner_name})}searchCustomer(){const o={SearchString:this.searchText||"",CustomerRole:[1,2,3,4,5,6,7,8,9,10]};this.customerList=[],this.MasterService.SearchCustomer(o).subscribe(n=>{200==n.status&&(this.customerList=n.data)})}onSubmit(){this.submitted=!0,console.log(this.userUpdateForm.value),this.customerService.updateCustomer(this.userUpdateForm.value).subscribe(o=>{this.globalService.hide(),200==o.status?this.toastr.success(o.message):this.toastr.warning("Error!",o.data)})}ngOnDestroy(){this.searchModelChangeSubscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(h.m),e.Y36(v.v),e.Y36(i.qu),e.Y36(m.gz),e.Y36(_._W),e.Y36(b.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-update"]],decls:43,vars:29,consts:[[1,"register-block"],[1,"container"],[1,"row","register-sec","mt-5"],[1,"col-md-12","register-sec","pb-0","pt-0"],["class","form-group ",4,"ngIf"],[1,"register-form","col-md-12",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","name",1,"text-uppercase"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","address_1",1,"text-uppercase"],["type","text","formControlName","address_1",1,"form-control",3,"ngClass"],["for","IsActive",1,"text-uppercase"],["type","text","formControlName","IsActive",1,"form-control",3,"ngClass"],["for","Role",1,"text-uppercase"],["type","text","formControlName","Role",1,"form-control",3,"ngClass"],["for","partner_name",1,"text-uppercase"],["type","text","formControlName","partner_name",1,"form-control",3,"ngClass"],[1,"form-check"],["class","btn btn-danger pull-right mt-2",4,"ngIf"],["type","submit","class","btn btn-register pull-right mt-2",4,"ngIf"],["for","userId",1,"text-uppercase","fw-bold"],[1,"w-100",3,"ngModel","placeholder","settings","data","ngModelChange","onFilterChange","onSelect"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","btn-danger","pull-right","mt-2"],["type","submit",1,"btn","btn-register","pull-right","mt-2"]],template:function(o,n){1&o&&(e._UZ(0,"app-header"),e.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,U,4,4,"div",4),e.qZA()(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Customer Name"),e.qZA(),e._UZ(12,"input",10),e.YNc(13,Z,2,1,"div",11),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8)(16,"label",12),e._uU(17,"Customer id "),e.qZA(),e._UZ(18,"input",13),e.YNc(19,I,2,1,"div",11),e.qZA()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"div",8)(23,"label",14),e._uU(24,"IsActive"),e.qZA(),e._UZ(25,"input",15),e.YNc(26,A,2,1,"div",11),e.qZA()(),e.TgZ(27,"div",7)(28,"div",8)(29,"label",16),e._uU(30,"Role"),e.qZA(),e._UZ(31,"input",17),e.YNc(32,O,2,1,"div",11),e.qZA()()(),e.TgZ(33,"div",6)(34,"div",7)(35,"div",8)(36,"label",18),e._uU(37,"Partner Name"),e.qZA(),e._UZ(38,"input",19),e.YNc(39,q,2,1,"div",11),e.qZA()(),e.TgZ(40,"div",20),e.YNc(41,J,2,0,"button",21),e.YNc(42,F,2,0,"button",22),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("ngIf",n.customerList&&n.customerList.length),e.xp6(1),e.Q6J("formGroup",n.userUpdateForm),e.xp6(6),e.Q6J("ngClass",e.WLB(14,c,n.submitted,n.submitted&&n.f.name.errors)),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.name.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(17,c,n.submitted,n.submitted&&n.f.address_1.errors)),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.address_1.errors),e.xp6(6),e.Q6J("ngClass",e.WLB(20,c,n.submitted,n.submitted&&n.f.IsActive.errors)),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.IsActive.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(23,c,n.submitted,n.submitted&&n.f.Role.errors)),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.Role.errors),e.xp6(6),e.Q6J("ngClass",e.WLB(26,c,n.submitted,n.submitted&&n.f.partner_name.errors)),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.partner_name.errors),e.xp6(2),e.Q6J("ngIf",n.submitted&&n.userUpdateForm.invalid),e.xp6(1),e.Q6J("ngIf",!n.submitted||!n.userUpdateForm.invalid))},dependencies:[u.mk,u.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,C.P,p.O],styles:['.register-block[_ngcontent-%COMP%]{background:#DE6262;background:linear-gradient(to bottom,#3f4c6b,#3f4c6b);float:left;width:100%;height:100%;padding:50px 0}.container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:15px 20px #0000001a}.register-sec[_ngcontent-%COMP%]{padding:50px 30px;position:relative}.banner-sec[_ngcontent-%COMP%]{background:url(https://images.pexels.com/photos/235419/pexels-photo-235419.jpeg?w=1260&h=750&auto=compress&cs=tinysrgb) no-repeat bottom;background-size:cover;min-height:500px;border-radius:0 10px 10px 0;padding:0}.carousel-inner[_ngcontent-%COMP%]{border-radius:0 10px 10px 0}.carousel-caption[_ngcontent-%COMP%]{text-align:left;left:5%}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]{position:absolute;width:80%;bottom:20px;font-size:13px;text-align:center}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#feb58a}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e36262}.register-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:800;font-size:30px;color:#3f4c6b}.register-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#3f4c6b;display:block;margin-top:20px;border-radius:3px;margin-left:auto;margin-right:auto}.btn-register[_ngcontent-%COMP%]{background:#3f4c6b;color:#fff;font-weight:600}.banner-text[_ngcontent-%COMP%]{width:70%;position:absolute;bottom:40px;padding-left:20px}.banner-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:600}.banner-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#FFF;display:block;margin-top:20px;border-radius:3px}.banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}']}),t})()},{path:"**",redirectTo:"product"}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(N),m.Bz]}),t})();var Y=s(2271);let Q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,Y.m,y,p.Z.forRoot()]}),t})()}}]);