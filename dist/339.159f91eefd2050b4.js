"use strict";(self.webpackChunkYantraWorld=self.webpackChunkYantraWorld||[]).push([[339],{4339:(h,g,a)=>{a.d(g,{P:()=>P});var c=a(968),p=a(2340),t=a(1571),_=a(4417),l=a(290),u=a(8781),o=a(2039),f=a(7185),m=a(6895);function v(r,s){1&r&&(t.TgZ(0,"li",19)(1,"a",20)(2,"strong",21),t._uU(3,"Login"),t.qZA()()())}function b(r,s){1&r&&(t.TgZ(0,"li",19)(1,"a",22)(2,"strong",21),t._uU(3,"Sign up"),t.qZA()()())}function Z(r,s){if(1&r&&(t.TgZ(0,"li",19)(1,"a",23)(2,"strong",24)(3,"a",25),t._UZ(4,"i",26),t._uU(5," Call Me "),t.qZA()()()()),2&r){const e=t.oxw();t.xp6(3),t.MGl("href","tel:",e.user.mob_phone,"",t.LSH)}}function C(r,s){if(1&r&&(t.TgZ(0,"li",19)(1,"a",23)(2,"strong",21)(3,"a",27),t._UZ(4,"i",28),t._uU(5," Whatsapp "),t.qZA()()()()),2&r){const e=t.oxw();t.xp6(3),t.hYB("href","https://wa.me/",e.user.partner_mobile,"/?text=",e.user.partner_name," ji",t.LSH)}}function T(r,s){1&r&&(t.TgZ(0,"li",19)(1,"a",29),t._UZ(2,"i",30),t.TgZ(3,"strong",21),t._uU(4,"Google Map"),t.qZA()()())}function x(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"li",19)(1,"a",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addToHomeScreen())}),t._UZ(2,"i",32),t.TgZ(3,"strong",21),t._uU(4,"Install App"),t.qZA()()()}}function A(r,s){1&r&&(t.TgZ(0,"li",33)(1,"a",34),t._uU(2," Bill & Order "),t.qZA(),t.TgZ(3,"ul",35)(4,"li",19)(5,"a",36),t._UZ(6,"i",37),t.TgZ(7,"strong",24),t._uU(8," Orders History"),t.qZA()()(),t.TgZ(9,"li",38)(10,"a",39),t._UZ(11,"i",40),t.TgZ(12,"strong",24),t._uU(13,"Generate Bills"),t.qZA()()()()())}function U(r,s){1&r&&(t.TgZ(0,"li",41)(1,"a",34),t._uU(2," Admin "),t.qZA(),t.TgZ(3,"ul",42)(4,"li",19)(5,"a",43),t._UZ(6,"i",44),t.TgZ(7,"strong"),t._uU(8,"Bill SAAS"),t.qZA()()(),t.TgZ(9,"li",19)(10,"a",45),t._UZ(11,"i",46),t.TgZ(12,"strong"),t._uU(13,"Create Notifications"),t.qZA()()(),t.TgZ(14,"li",19)(15,"a",47),t._UZ(16,"i",46),t.TgZ(17,"strong"),t._uU(18,"Create Targets"),t.qZA()()(),t.TgZ(19,"li",19)(20,"a",48),t._UZ(21,"i",49),t.TgZ(22,"strong"),t._uU(23,"Register A User"),t.qZA()()(),t.TgZ(24,"li",19)(25,"a",50),t._UZ(26,"i",37),t.TgZ(27,"strong",24),t._uU(28,"Order & Payments"),t.qZA()()(),t.TgZ(29,"li",19)(30,"a",51),t._UZ(31,"i",52),t.TgZ(32,"strong",24),t._uU(33,"Insert Product"),t.qZA()()(),t.TgZ(34,"li",53)(35,"a",54),t._UZ(36,"i",55),t.TgZ(37,"strong",24),t._uU(38,"Update Product"),t.qZA()()()()())}function k(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"li",41)(1,"a",34),t._uU(2),t.qZA(),t.TgZ(3,"ul",56)(4,"li",19)(5,"a",57),t._UZ(6,"i",58),t.TgZ(7,"strong",24),t._uU(8,"Profile"),t.qZA()()(),t.TgZ(9,"li",19)(10,"a",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.subscribeToNotifications())}),t._UZ(11,"i",60),t.TgZ(12,"strong",24),t._uU(13,"Subscribe offers"),t.qZA()()(),t.TgZ(14,"li",19)(15,"a",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addToHomeScreen())}),t._UZ(16,"i",61),t.TgZ(17,"strong",24),t._uU(18,"Install App"),t.qZA()()(),t.TgZ(19,"li",19)(20,"a",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onLogout())}),t._UZ(21,"i",62),t.TgZ(22,"strong",63),t._uU(23,"Logout"),t.qZA()()(),t.TgZ(24,"li",19)(25,"a",23)(26,"strong",24)(27,"a",64),t._UZ(28,"i",26),t._uU(29," Call Us "),t.qZA()()()(),t.TgZ(30,"li",19)(31,"a",23)(32,"strong",24)(33,"a",65),t._uU(34,"Whatsapp Us"),t._UZ(35,"i",28),t.qZA()()()(),t.TgZ(36,"li",38)(37,"a",66)(38,"strong",67)(39,"a",65),t._uU(40," Share Your Profile "),t._UZ(41,"i",68),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij(" ",e.user.name," "),t.xp6(25),t.MGl("href","tel:",e.user.mob_phone,"",t.LSH),t.xp6(6),t.hYB("href","https://wa.me/",e.user.partner_mobile,"/?text=",e.user.partner_name," Ji",t.LSH),t.xp6(6),t.hYB("href","https://wa.me/?text=Yahan se ",e.partnerName," ji se Samaan Kharedne K Liye iss link se Register Kare: https://apnidukan.yantraworld.in/customer/register?partnerId=",e.PartnerId,"",t.LSH)}}let P=(()=>{class r{constructor(e,n,i,d,w,L){this.dataService=e,this.customerService=n,this.router=i,this.swPush=d,this.toastr=w,this.newsletterService=L,this.CartCount=0,this.bagItemCount=0,this.notificationCount=0,this.isLogged=!1,this.VAPID_PUBLIC_KEY="BGG8V5aP5-B_D4RTE9cLGlUPewCafawmZO5_9_uTmc99r8CDWCsLmTnAh3ToHEarTH5z24OhyBEUncqmF8SvLto",this.version=p.N.VERSION,this.host=p.N.host}ngOnInit(){this.user=this.dataService.getUserFromLocalStorage(),this.dataService.Cart.subscribe(e=>this.CartCount=e),console.log(11,this.user),this.user&&(this.user.Role<=6?(this.partnerName=this.user.name,this.PartnerId=this.user.customer_id):(this.partnerName=this.user.partner_name,this.PartnerId=this.user.PartnerId)),this.isLogged=!!this.user.customer_id||null,this.swPush.notificationClicks.subscribe(e=>{alert("notificationClicks")})}subscribeToNotifications(){this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then(e=>{let n=JSON.parse(JSON.stringify(e));console.log("subs",n),this.newsletterService.addPushSubscriber({endpoint:n.endpoint,expirationTime:0,p256dh:n.keys.p256dh,auth:n.keys.auth,customerId:this.user.customer_id||0}).subscribe(d=>{this.toastr.success(d.message)})}).catch(e=>console.error("Could not subscribe to notifications",e))}onLogout(){localStorage.removeItem("token"),this.toastr.success("Thankyou!"),window.location.href="/"}onbeforeinstallprompt(e){console.log(e),e.preventDefault(),this.deferredPrompt=e,this.showPwaButton=!0,this.addToHomeScreen()}addToHomeScreen(){this.showPwaButton=!1,this.deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),this.deferredPrompt=null})}showAppUpdateAlert(){}clearSearch(){this.dataService.searchString="",this.dataService.searchModelChanged.next("clear")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_.D),t.Y36(l.v),t.Y36(u.F0),t.Y36(o.Mk),t.Y36(f._W),t.Y36(c.w))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],hostBindings:function(e,n){1&e&&t.NdJ("beforeinstallprompt",function(d){return n.onbeforeinstallprompt(d)},!1,t.Jf7)},features:[t._Bn([c.w])],decls:31,vars:12,consts:[[1,"navbar","fixed-top","navbar-expand-lg","pt-1","pb-1","bg-pink","justify-content-center"],[1,"container-fluid"],[1,"logo","navbar-brand",3,"href"],["alt","ApniDukan","height","40","src","/assets/yantra-logo.png",1,"rounded-top","rounded-bottom",2,"z-index","999"],[1,"row"],[1,"col-md-3"],["routerLink","/notification/list",1,"bell"],[1,"fa","fa-bell"],[1,"badge","rounded-pill","badge-notification","bg-danger"],["routerLink","/checkout/shopping-cart",1,"cart"],[1,"fa","fa-shopping-cart"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item b-top-bottom cursor-p",4,"ngIf"],[1,"navbar-nav","nav-flex-icons"],["class","nav-item dropdown pull-right",4,"ngIf"],["class","nav-item b-top-bottom cursor-p dropdown pull-left",4,"ngIf"],[1,"nav-item","b-top-bottom","cursor-p"],["routerLink","/customer/login",1,"nav-link"],[1,"text-white"],["routerLink","/customer/register",1,"nav-link"],[1,"nav-link"],[1,"text-pink"],[1,"text-white","callus",3,"href"],["aria-hidden","true",1,"fa","fa-phone","text-success"],["target","_blank",1,"text-white","text-decoration-none",3,"href"],["aria-hidden","true",1,"fa","fa-whatsapp","ft-19"],["href","https://www.google.com/maps/place/28%C2%B036'16.5%22N+76%C2%B058'50.5%22E/@28.604572,76.9785143,17z/data=!3m1!4b1!4m5!3m4!1s0x0:0x0!8m2!3d28.604572!4d76.980703?hl=en","target","_blank",1,"nav-link","install-btn"],[1,"fa","fa-map-marker","ft-30","text-white"],[1,"nav-link","install-btn",3,"click"],[1,"fa","fa-download","text-white"],[1,"nav-item","dropdown","pull-right"],["id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["routerLink","/order/history",1,"nav-link"],[1,"fa","fa-history","text-pink"],[1,"nav-item","cursor-p"],["routerLink","/billsaas/insert",1,"nav-link"],[1,"fa","fa-file","text-pink"],[1,"nav-item","b-top-bottom","cursor-p","dropdown","pull-left"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","menu-items","dd-menu"],["routerLink","/billsaas/insert",1,"nav-link","text-pink"],[1,"fa","fa-file"],["routerLink","/notification/create",1,"nav-link","text-pink"],[1,"fa","fa-plus"],["routerLink","/target/create",1,"nav-link","text-pink"],["routerLink","/customer/register",1,"nav-link","text-pink"],[1,"fa","fa-user"],["routerLink","/emp-access/all",1,"nav-link"],["href","/emp-access/product-insert?addNew=1",1,"nav-link"],[1,"fa","fa-plus","text-pink"],[1,"nav-item"],["href","/emp-access/product-insert?addNew=0",1,"nav-link"],[1,"fa","fa-edit","text-pink"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dd-menu"],["routerLink","customer/my-account",1,"nav-link"],[1,"fa","fa-user","text-pink"],[1,"nav-link",3,"click"],[1,"fa","fa-envelope","text-pink"],[1,"fa","fa-download","text-pink"],[1,"fa","fa-sign-in-alt","text-pink"],[1,"text-pink","cursor-p"],[3,"href"],["target","_blank",3,"href"],["id","shareprofile",1,"nav-link"],["title","Apne Under Customer Ko Add Karne K liye Apni Profile Yahan se Share Kare",1,"text-pink","ft-13"],[1,"fa","fa-share"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),t._UZ(4,"img",3),t._uU(5," ApniDukan "),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"a",6),t._UZ(9,"i",7),t.TgZ(10,"span",8),t._uU(11),t.qZA()()(),t.TgZ(12,"div",5)(13,"a",9),t._UZ(14,"i",10),t.TgZ(15,"span",8),t._uU(16),t.qZA()()()(),t.TgZ(17,"button",11),t._UZ(18,"span",12),t.qZA(),t.TgZ(19,"div",13)(20,"ul",14),t.YNc(21,v,4,0,"li",15),t.YNc(22,b,4,0,"li",15),t.YNc(23,Z,6,1,"li",15),t.YNc(24,C,6,2,"li",15),t.YNc(25,T,5,0,"li",15),t.YNc(26,x,5,0,"li",15),t.qZA(),t.TgZ(27,"ul",16),t.YNc(28,A,14,0,"li",17),t.YNc(29,U,39,0,"li",18),t.YNc(30,k,42,6,"li",18),t.qZA()()()()),2&e&&(t.xp6(3),t.s9C("href",n.host,t.LSH),t.xp6(8),t.hij(" ",n.notificationCount," "),t.xp6(5),t.hij(" ",n.CartCount," "),t.xp6(5),t.Q6J("ngIf",!n.isLogged),t.xp6(1),t.Q6J("ngIf",!n.isLogged),t.xp6(1),t.Q6J("ngIf",!n.isLogged),t.xp6(1),t.Q6J("ngIf",!n.isLogged),t.xp6(1),t.Q6J("ngIf",!n.isLogged),t.xp6(1),t.Q6J("ngIf",!n.isLogged),t.xp6(2),t.Q6J("ngIf",n.user&&(n.user.Role>6||3==n.user.CustomerId)),t.xp6(1),t.Q6J("ngIf",n.user&&n.user.Role<=6),t.xp6(1),t.Q6J("ngIf",n.isLogged))},dependencies:[m.O5,u.yS],styles:[".toastr[_ngcontent-%COMP%]{position:absolute;right:75px;top:80px;button-color:#fff}.indx[_ngcontent-%COMP%]{z-index:102}.logo[_ngcontent-%COMP%], .fa-shopping-cart[_ngcontent-%COMP%]{color:#fff}.cart[_ngcontent-%COMP%]{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition);position:fixed;right:160px;top:7px;border-color:red}.bell[_ngcontent-%COMP%]{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition);position:absolute;right:85px;top:7px;color:#fff;border-color:red}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}.navbar-nav[_ngcontent-%COMP%]{display:inline-flex}.callus[_ngcontent-%COMP%]{text-decoration:none}.nav-item[_ngcontent-%COMP%]{display:list-item}.menu-items[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#f66c98}.b-top-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e91e63}#shareprofile[_ngcontent-%COMP%]{padding-right:1%;padding-left:0}.dropdown-cart[_ngcontent-%COMP%]{right:0;left:unset}.dropdown-login[_ngcontent-%COMP%]{left:unset}.version[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;font-size:12px;cursor:default}.dd-menu[_ngcontent-%COMP%]{position:absolute;left:-25px}@media only screen and (max-width: 600px){.navbar-nav[_ngcontent-%COMP%]{display:flow-root!important}}"]}),r})()},290:(h,g,a)=>{a.d(g,{v:()=>_});var c=a(2340),p=a(1571),t=a(6858);let _=(()=>{class l{constructor(o){this.http=o,this.url=c.N.apiUrl||localStorage.getItem("ServerUrl")}AddNewCustomer(o){return this.http.post("customer/addNewCustomer",o)}login(o,f){return this.http.post("customer/authenticateLogin",{Mobile:o,Password:f})}Next(o){return this.http.post("customer/authenticateLogin",{Mobile:o})}Logout(){return this.http.get("customer/logout")}getCustomerById(o){return this.http.get(`customer/getCustomerById/${o}`)}getDistributersList(){return this.http.get("customer/getPartnersList")}updateCustomer(o){return this.http.post("user/updateUserById",o)}}return l.\u0275fac=function(o){return new(o||l)(p.LFG(t.O))},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);