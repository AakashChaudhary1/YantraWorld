"use strict";(self.webpackChunkYantraWorld=self.webpackChunkYantraWorld||[]).push([[208],{5208:(lt,_,a)=>{a.r(_),a.d(_,{NotificationModule:()=>it});var l=a(6895),d=a(8781),u=a(1669),N=a(2336),c=a(433),t=a(1571),S=a(8132),A=a(2340),y=a(6858);let p=(()=>{class e{constructor(i){this.http=i,this.url=A.N.apiUrl||localStorage.getItem("ServerUrl")}getAllNotification(i){return this.http.get("notification/getNotificationListByCustomerId/?id="+i)}createNotification(i){return this.http.post("notification/SaveNotification",i)}getNotificationListByCustomerIds(i){return this.http.post("notification/getNotificationListByCustomerIdsUnderPartner",i)}markasReadNotificationByCustomerIds(i){return this.http.get("notification/MarkAsReadNotification/?NotificationId="+i)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(y.O))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=a(4417),M=a(7185),I=a(3931),O=a(4852),x=a(3835),Z=a(290),C=a(4339),m=a(324);function T(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",9)(1,"label",10),t._uU(2,"Select User: "),t.qZA(),t.TgZ(3,"ng-multiselect-dropdown",11),t.NdJ("ngModelChange",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.SelectedUser=n)})("onSelect",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onCustomerSelect(n))})("onDeSelect",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onCustomerSelect(n))})("onSelectAll",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onAllCustomerSelect(n))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.SelectedUser)("placeholder","Select User for notification")("settings",i.customerListdropdownSettings)("data",i.customerList)}}function U(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"p",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.wordWrapFunction(n.notification_id))}),t._uU(1),t.qZA()}if(2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij("",i.notification_name," ")}}function P(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"p",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.wordWrapFunction(n.notification_id))}),t._uU(1),t.qZA()}if(2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.notification_name.slice(0,19)+"\u2026","")}}const L=function(e,r){return{"fa-envelope":e,"fa-envelope-open":r}},w=function(e,r,i,o){return{"text-primary":e,"text-success":r,"text-warning":i,"text-danger":o}};function F(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t._UZ(3,"i",12),t.qZA(),t.TgZ(4,"td",13),t.YNc(5,U,2,1,"p",14),t.YNc(6,P,2,1,"p",14),t.qZA(),t.TgZ(7,"td",15)(8,"p"),t._uU(9),t.ALo(10,"date"),t.qZA()()()),2&e){const i=r.$implicit,o=r.index,n=t.oxw();t.xp6(2),t.hij("",o+1,". "),t.xp6(1),t.Q6J("ngClass",t.WLB(9,L,0==i.IsRead,1==i.IsRead)),t.xp6(1),t.Q6J("ngClass",t.l5B(12,w,1==i.notification_type,2==i.notification_type,3==i.notification_type,4==i.notification_type)),t.xp6(1),t.Q6J("ngIf",n.wordWrap[i.notification_id]),t.xp6(1),t.Q6J("ngIf",!n.wordWrap[i.notification_id]),t.xp6(3),t.Oqu(t.xi3(10,6,i.created_on,"medium"))}}let b=(()=>{class e{constructor(i,o,n){this.notificationService=i,this.dataService=o,this.masterService=n,this.NotificationData={ForCustomerIds:[],PartnerId:""},this.customerListdropdownSettings={singleSelection:!1,idField:"customer_id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.allNotificationData=[],this.allNotification=[],this.customerList=[],this.wordWrap={}}ngOnInit(){this.user=this.dataService.getUserFromLocalStorage(),this.getAllNotification(),this.getNotificationListByCustomerId(),this.searchCustomer()}onCustomerSelect(i){console.log(i);let o=this.NotificationData.ForCustomerIds.indexOf(i.customer_id);o>-1?this.NotificationData.ForCustomerIds.splice(o,1):this.NotificationData.ForCustomerIds.push(i.customer_id),this.getNotificationListByCustomerId()}onAllCustomerSelect(i){console.log(i);for(let o=0;o<i.length;o++){let n=i[o],s=this.NotificationData.ForCustomerIds.indexOf(n.customer_id);s>-1?this.NotificationData.ForCustomerIds.splice(s,1):this.NotificationData.ForCustomerIds.push(n.customer_id)}this.getNotificationListByCustomerId()}wordWrapFunction(i){this.wordWrap={},this.wordWrap[i]=1}getNotificationListByCustomerId(){this.NotificationData.PartnerId=this.user.customer_id,this.notificationService.getNotificationListByCustomerIds(this.NotificationData).subscribe(i=>{console.log(i),200==i.status&&(this.allNotificationData=i.data)})}getAllNotification(){this.notificationService.getAllNotification(this.user.customer_id).subscribe(i=>{console.log(i),200==i.status&&(this.allNotification=i.data)})}searchCustomer(){const i={SearchString:this.searchText||""};this.customerList=[],this.masterService.SearchCustomer(i).subscribe(o=>{200==o.status&&(this.customerList=o.data)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(p),t.Y36(g.D),t.Y36(x.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-listfor-admin"]],decls:20,vars:2,consts:[[1,"register-block","notification"],[1,"container"],[1,"row","register-sec"],[1,"col-md-12","notification-sec"],[1,"col-xs-12"],[1,"text-center"],["class","form-group ",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"form-group"],["for","userId",1,"text-uppercase","fw-bold"],[1,"w-100",3,"ngModel","placeholder","settings","data","ngModelChange","onSelect","onDeSelect","onSelectAll"],[1,"fa","font",3,"ngClass"],[1,"fw-bold","cursor-p",3,"ngClass"],[3,"click",4,"ngIf"],[1,"cursor-p"],[3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),t._uU(6,"Notification List"),t.qZA()(),t.YNc(7,T,4,4,"div",6),t.qZA(),t.TgZ(8,"div")(9,"table",7)(10,"thead")(11,"tr")(12,"th"),t._uU(13," Sno."),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Name "),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Created On"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,F,11,17,"tr",8),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("ngIf",o.customerList&&o.customerList.length),t.xp6(12),t.Q6J("ngForOf",o.allNotificationData))},dependencies:[l.mk,l.sg,l.O5,c.JJ,c.On,m.O,l.uU],styles:['.container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:15px 20px #0000001a}.register-block[_ngcontent-%COMP%]{background:#DE6262;background:linear-gradient(to bottom,#3f4c6b,#3f4c6b);float:left;width:100%;padding:50px 0;min-height:75vh}.register-sec[_ngcontent-%COMP%]{padding:30px;position:relative}.notification-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:-10px;font-weight:800;font-size:30px;color:#3f4c6b}.notification-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#3f4c6b;display:block;margin-top:20px;border-radius:3px;margin-left:auto;margin-right:auto}.notification[_ngcontent-%COMP%]{margin-top:35px}.unread[_ngcontent-%COMP%]{border:1px solid red}i[_ngcontent-%COMP%]{font-size:xx-large}.envelope[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:xx-small;position:absolute;margin-top:-10px;right:3%;transform:translateY(-50%)}.font[_ngcontent-%COMP%]{font-size:xx-small}.timeago[_ngcontent-%COMP%]{font-size:x-small;position:absolute;margin-top:5px;transform:translateY(-50%)}.dates[_ngcontent-%COMP%]{opacity:1;position:absolute;margin-top:5px;right:3%;transform:translateY(-50%);font-size:x-small}.limitTextHeight[_ngcontent-%COMP%]{height:25px;overflow:hidden}.readbtn[_ngcontent-%COMP%]{padding:0%;border:none;outline:none;font-weight:500;font-size:x-large;position:absolute;margin-top:-20px;right:2.6%;transform:translateY(-50%);background-color:inherit}']}),e})();function D(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Name is required"),t.qZA())}function k(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Only fifty characters are allowed"),t.qZA())}function J(e,r){if(1&e&&(t.TgZ(0,"div",34),t.YNc(1,D,2,0,"div",35),t.YNc(2,k,2,0,"div",35),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.notification_name.errors.required),t.xp6(1),t.Q6J("ngIf",i.f.notification_name.errors.maxlength)}}function Y(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",36)(1,"ng-multiselect-dropdown",37),t.NdJ("onDeSelect",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onSelect(n))})("onSelect",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onSelect(n))})("onSelectAll",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onSelectAll())}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(1),t.Q6J("placeholder","Select User")("settings",i.customerListdropdownSettings)("data",i.customerList)}}function q(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Notification type is required"),t.qZA())}function B(e,r){if(1&e&&(t.TgZ(0,"div",34),t.YNc(1,q,2,0,"div",35),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.f.notification_type.errors.required)}}function Q(e,r){1&e&&(t.TgZ(0,"button",38),t._uU(1,"Error in the form"),t.qZA())}function R(e,r){1&e&&(t.TgZ(0,"button",39),t._uU(1,"Submit"),t.qZA())}const v=function(e,r){return{"is-valid":e,"is-invalid":r}},h=function(){return{standalone:!0}},z=function(e,r,i,o,n,s){return{"is-valid":e,"is-invalid":r,"text-primary border-primary":i,"text-success border-success":o,"text-warning border-warning":n,"text-danger border-danger":s}};let E=(()=>{class e{constructor(i,o,n,s,f,ot,et,nt,rt,st,at,ct){this.formBuilder=i,this.OrderService=o,this.datepipe=n,this.notificationService=s,this.route=f,this.dataService=ot,this.toastr=et,this.router=nt,this.GlobalHttpService=rt,this.globalService=st,this.masterService=at,this.customerService=ct,this.orderList=[],this.Count=1e3,this.orderListOriginal=[],this.SelectedUsersArr=[],this.selectedUsers=[],this.flagSwitch=3,this.customerList=[],this.customer=new N.O,this.allNotification=[],this.noti_broadcast_type=1,this.customerId=[],this.loading=!1,this.submitted=!1,this.NotificationData={ForCustomerIds:[],PartnerId:""},this.searchString="",this.SelectedUsers=[],this.filterStatus=[{StatusId:1,StatusName:"Placed"},{StatusId:2,StatusName:"Confirmed"},{StatusId:6,StatusName:"Paid & DeliveryPending"}],this.customerListdropdownSettings={singleSelection:!1,idField:"customer_id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,limitSelection:1,allowSearchFilter:!0},this.today=new Date,this.billsFromDate=new Date((new Date).setDate(this.today.getDate()-30))}ngOnInit(){this.searchCustomer(),console.log(this.billsFromDate),this.user=this.dataService.getUserFromLocalStorage(),this.buildForm(),this.getbills(),this.getAllNotification()}buildForm(){this.NotificationInsertForm=this.formBuilder.group({notification_name:["",[c.kI.required,c.kI.maxLength(50)]],notification_description:[""],notification_type:["1",[c.kI.required]],ForCustomerId:[""],PartnerId:[this.user.customer_id]})}get f(){return this.NotificationInsertForm.controls}onCustomerSelect(i){console.log(i);let o=this.NotificationData.ForCustomerIds.indexOf(i.customer_id);o>-1?this.NotificationData.ForCustomerIds.splice(o,1):this.NotificationData.ForCustomerIds.push(i.customer_id),this.getNotificationListByCustomerId()}onAllCustomerSelect(i){console.log(i);for(let o=0;o<i.length;o++){let n=i[o],s=this.NotificationData.ForCustomerIds.indexOf(n.customer_id);s>-1?this.NotificationData.ForCustomerIds.splice(s,1):this.NotificationData.ForCustomerIds.push(n.customer_id)}this.getNotificationListByCustomerId()}getNotificationListByCustomerId(){this.NotificationData.PartnerId=this.user.customer_id,this.notificationService.getNotificationListByCustomerIds(this.NotificationData).subscribe(i=>{console.log(i),200==i.status&&(this.allNotification=i.data)})}searchCustomer(){const i={SearchString:this.searchText||""};this.customerList=[],this.masterService.SearchCustomer(i).subscribe(o=>{200==o.status&&(this.customerList=o.data)})}getOrders(){let i=[];this.filterStatus.length&&this.filterStatus.forEach(n=>{i.push(n.StatusId)}),this.dataService.setSelectedStatusInLocalStorage(this.filterStatus),this.OrderService.getMostRecentOrdersByCount({count:this.Count||500,customer_id:"0",status:i}).subscribe(n=>{200==n.status&&(this.orderListOriginal=n.data,this.orderList=n.data,this.pendingAmountForUser=0,this.SelectedUsersArr.length&&this.filterOrdersbyCustomer())})}onFileSelect(i){if(i.target.files.length>0){const o=i.target.files[0];this.NotificationInsertForm.get("image").setValue(o)}}onSelect(i){let o=this.SelectedUsersArr.indexOf(i.customer_id);o>-1?this.SelectedUsersArr.splice(o,1):this.SelectedUsersArr.push(i.customer_id),console.log(12,this.SelectedUsersArr)}onSelectAll(){}notification_broadcast_type(i){this.noti_broadcast_type=i}deleteBillsbyId(i){confirm("Do you want to delete this?")}getAllNotification(){this.notificationService.getAllNotification(this.user.customer_id).subscribe(i=>{console.log(i),200==i.status&&(this.allNotification=i.data)})}getbills(){this.datepipe.transform(this.billsFromDate,"shortDate")}onSubmit(){if(this.submitted=!0,!this.NotificationInsertForm.invalid){if(3==this.noti_broadcast_type){if(!this.SelectedUsersArr.length)return void alert("Apne koi User Select nahi kiya hai");this.NotificationInsertForm.value.ForCustomerId=this.SelectedUsersArr,this.NotificationInsertForm.value.noti_broadcast_type=3}else this.NotificationInsertForm.value.noti_broadcast_type=1==this.noti_broadcast_type?1:2;console.log(this.NotificationInsertForm.value),this.notificationService.createNotification(this.NotificationInsertForm.value).subscribe(i=>{this.globalService.hide(),200==i.status?this.toastr.success(i.message):this.toastr.warning("Error!",i.data)}),console.log(this.NotificationInsertForm.value)}}salemanSelected(){this.ProductAndItemList=[];let i={};this.orderList.forEach(o=>{o.order_details.forEach(n=>{[1,2,6].indexOf(n.status)>-1&&!n.assigned_bag_saleman&&(i[n.product_id]?(i[n.product_id].total_units+=n.units,i[n.product_id].item_ids.push(n.item_id)):i[n.product_id]={product_id:n.product_id,item_ids:[n.item_id],total_units:n.units,name:n.name})})}),this.ProductAndItemList=Object.keys(i).map(o=>i[o])}createSelectedUserArray(){this.SelectedUsersArr=[],this.SelectedUsers.forEach(i=>{this.SelectedUsersArr.push(i.customer_id)})}filterOrdersbyCustomer(){this.orderList=[],this.createSelectedUserArray(),this.orderListOriginal.filter(i=>{this.SelectedUsersArr.indexOf(i.customer_id)>-1&&!i.assigned_bag_saleman&&this.orderList.push(i)}),this.orderList=this.SelectedUsersArr.length?this.orderList:this.orderListOriginal,this.salemanSelected()}ngOnDestroy(){}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(c.qu),t.Y36(S.p),t.Y36(l.uU),t.Y36(p),t.Y36(d.gz),t.Y36(g.D),t.Y36(M._W),t.Y36(d.F0),t.Y36(I.H),t.Y36(O.U),t.Y36(x.m),t.Y36(Z.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-insert"]],decls:61,vars:41,consts:[[1,"register-block","notification"],[1,"container"],[1,"row","register-sec"],[1,"col-xs-12","m-auto"],[1,"text-center"],[1,"register-form","col-md-12",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","notification_name","placement","top","ngbTooltip","Notification ka Naam"],["aria-hidden","true",1,"fa","fa-info-circle","cursor-p"],["type","text","formControlName","notification_name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","notification_description","placement","top","ngbTooltip","Description is product ka"],["type","text","formControlName","notification_description",1,"form-control",3,"ngClass"],[1,"col-md-6","mt-2"],[1,"form-group","mt-1"],[1,"form-check-inline"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"value","checked","ngModel","ngModelOptions","change","ngModelChange"],["for","flexRadioDefault1",1,"form-check-label","cursor-p"],["type","radio","name","flexRadioDefault","id","flexRadioDefault2",1,"form-check-input",3,"value","checked","ngModel","ngModelOptions","change","ngModelChange"],["for","flexRadioDefault2",1,"form-check-label","cursor-p"],["type","radio","name","flexRadioDefault","id","flexRadioDefault3",1,"form-check-input",3,"value","checked","ngModel","ngModelOptions","change","ngModelChange"],["for","flexRadioDefault3",1,"form-check-label","cursor-p"],["class","form-group mt-2",4,"ngIf"],["for","notification_type","placement","top","ngbTooltip","Notification ka type Select karo"],["type","text","id","","aria-label",".form-select-lg","formControlName","notification_type",1,"form-control","fw-bold","mt-2",3,"ngClass"],[1,"text-primary",3,"value"],[1,"text-success",3,"value"],[1,"text-warning",3,"value"],[1,"text-danger",3,"value"],[1,"form-check"],["class","btn btn-danger pull-right mt-2",4,"ngIf"],["type","submit","class","btn btn-register pull-right mt-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-group","mt-2"],[1,"w-100",3,"placeholder","settings","data","onDeSelect","onSelect","onSelectAll"],[1,"btn","btn-danger","pull-right","mt-2"],["type","submit",1,"btn","btn-register","pull-right","mt-2"]],template:function(i,o){1&i&&(t.TgZ(0,"header"),t._UZ(1,"app-header"),t.qZA(),t.TgZ(2,"section",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h2",4),t._uU(7,"Notification Insert Form"),t.qZA()(),t.TgZ(8,"form",5),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13,"Notification name "),t._UZ(14,"i",10),t.qZA(),t._UZ(15,"input",11),t.YNc(16,J,3,2,"div",12),t.qZA()(),t.TgZ(17,"div",7)(18,"div",8)(19,"label",13),t._uU(20,"Description "),t._UZ(21,"i",10),t.qZA(),t._UZ(22,"input",14),t.qZA()()(),t.TgZ(23,"div",6)(24,"div",15)(25,"div",16)(26,"div",17)(27,"input",18),t.NdJ("change",function(){return o.notification_broadcast_type(1)})("ngModelChange",function(s){return o.noti_broadcast_type=s}),t.qZA(),t._uU(28,"\xa0\xa0 "),t.TgZ(29,"label",19),t._uU(30," All Employes "),t.qZA()(),t.TgZ(31,"div",17)(32,"input",20),t.NdJ("change",function(){return o.notification_broadcast_type(2)})("ngModelChange",function(s){return o.noti_broadcast_type=s}),t.qZA(),t._uU(33,"\xa0\xa0 "),t.TgZ(34,"label",21),t._uU(35," EveryBody "),t.qZA()(),t.TgZ(36,"div",17)(37,"input",22),t.NdJ("change",function(){return o.notification_broadcast_type(3)})("ngModelChange",function(s){return o.noti_broadcast_type=s}),t.qZA(),t._uU(38,"\xa0\xa0 "),t.TgZ(39,"label",23),t._uU(40," Select Customer "),t.qZA()(),t.YNc(41,Y,2,3,"div",24),t.qZA()(),t.TgZ(42,"div",15)(43,"div",16)(44,"label",25),t._uU(45,"Select Type of Notification "),t._UZ(46,"i",10),t.qZA(),t.TgZ(47,"select",26)(48,"option",27),t._uU(49,"Information dena chahte ho"),t.qZA(),t.TgZ(50,"option",28),t._uU(51,"Joyful message dena chahte ho"),t.qZA(),t.TgZ(52,"option",29),t._uU(53,"Warning dena chahte ho"),t.qZA(),t.TgZ(54,"option",30),t._uU(55,"Danger dena chahte ho"),t.qZA()(),t.YNc(56,B,2,1,"div",12),t.qZA()()(),t.TgZ(57,"div",31),t.YNc(58,Q,2,0,"button",32),t.YNc(59,R,2,0,"button",33),t.qZA()()()()(),t._UZ(60,"app-notification-listfor-admin")),2&i&&(t.xp6(8),t.Q6J("formGroup",o.NotificationInsertForm),t.xp6(7),t.Q6J("ngClass",t.WLB(25,v,o.submitted,o.submitted&&o.f.notification_name.errors)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.notification_name.errors),t.xp6(6),t.Q6J("ngClass",t.WLB(28,v,o.submitted,o.submitted&&o.f.notification_description.errors)),t.xp6(5),t.Q6J("value",1)("checked",1==o.noti_broadcast_type)("ngModel",o.noti_broadcast_type)("ngModelOptions",t.DdM(31,h)),t.xp6(5),t.Q6J("value",2)("checked",2==o.noti_broadcast_type)("ngModel",o.noti_broadcast_type)("ngModelOptions",t.DdM(32,h)),t.xp6(5),t.Q6J("value",3)("checked",3==o.noti_broadcast_type)("ngModel",o.noti_broadcast_type)("ngModelOptions",t.DdM(33,h)),t.xp6(4),t.Q6J("ngIf",3==o.noti_broadcast_type),t.xp6(6),t.Q6J("ngClass",t.HTZ(34,z,o.submitted,o.submitted&&o.f.notification_type.errors,1==o.f.notification_type.value,2==o.f.notification_type.value,3==o.f.notification_type.value,4==o.f.notification_type.value)),t.xp6(1),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("ngIf",o.submitted&&o.f.notification_type.errors),t.xp6(2),t.Q6J("ngIf",o.submitted&&o.NotificationInsertForm.invalid),t.xp6(1),t.Q6J("ngIf",!o.submitted||!o.NotificationInsertForm.invalid))},dependencies:[l.mk,l.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.JL,c.On,c.sg,c.u,C.P,m.O,b],styles:['.register-block[_ngcontent-%COMP%]{background:#DE6262;background:linear-gradient(to bottom,#3f4c6b,#3f4c6b);float:left;width:100%;padding:50px 0;min-height:75vh}.notification[_ngcontent-%COMP%]{margin-top:35px}.banner-sec[_ngcontent-%COMP%]{background:url(https://images.pexels.com/photos/235419/pexels-photo-235419.jpeg?w=1260&h=750&auto=compress&cs=tinysrgb) no-repeat bottom;background-size:cover;min-height:500px;border-radius:0 10px 10px 0;padding:0}.container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:15px 20px #0000001a}.carousel-inner[_ngcontent-%COMP%]{border-radius:0 10px 10px 0}.carousel-caption[_ngcontent-%COMP%]{text-align:left;left:5%}.register-sec[_ngcontent-%COMP%]{padding:50px 30px;position:relative}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]{position:absolute;width:80%;bottom:20px;font-size:13px;text-align:center}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#feb58a}.register-sec[_ngcontent-%COMP%]   .copy-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e36262}.register-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:800;font-size:30px;color:#3f4c6b}.register-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#3f4c6b;display:block;margin-top:20px;border-radius:3px;margin-left:auto;margin-right:auto}.btn-register[_ngcontent-%COMP%]{background:#3f4c6b;color:#fff;font-weight:600}.banner-text[_ngcontent-%COMP%]{width:70%;position:absolute;bottom:40px;padding-left:20px}.banner-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:600}.banner-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#FFF;display:block;margin-top:20px;border-radius:3px}.banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.unread[_ngcontent-%COMP%]{border:1px solid red}i[_ngcontent-%COMP%]{font-size:medium}.envelope[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:xx-small;position:absolute;margin-top:-10px;right:3%;transform:translateY(-50%)}.text[_ngcontent-%COMP%]{margin-left:15px;margin-right:36px;text-align:justify}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:large}.timeago[_ngcontent-%COMP%]{font-size:x-small;position:absolute;margin-top:5px;transform:translateY(-50%)}.dates[_ngcontent-%COMP%]{opacity:1;position:absolute;margin-top:5px;right:3%;transform:translateY(-50%);font-size:x-small}.color[_ngcontent-%COMP%]{background:#3f4c6b}']}),e})();var W=a(2334);const G=function(e,r,i,o,n){return{"alert-primary":e,"alert-success":r,"alert-warning":i,"alert-danger":o,unread:n}},H=function(e,r,i,o){return{"fa-info-circle":e,"fa-check":r,"fa-warning":i,"fa-close":o}},j=function(e,r){return{"fa-envelope":e,"fa-envelope-open":r}};function K(e,r){if(1&e){const i=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){const s=t.CHM(i).$implicit,f=t.oxw();return t.KtG(f.markasReadNotificationByCustomerIds(s))}),t._UZ(1,"i",6),t.TgZ(2,"div",7)(3,"div",8),t._UZ(4,"i",6),t.qZA(),t.TgZ(5,"div")(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"div",9),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",10),t._uU(12),t.ALo(13,"timeAgo"),t.qZA()()()}if(2&e){const i=r.$implicit;t.Q6J("ngClass",t.qbA(11,G,1==i.notification_type,2==i.notification_type,3==i.notification_type,4==i.notification_type,0==i.IsRead)),t.xp6(1),t.Q6J("ngClass",t.l5B(17,H,1==i.notification_type,2==i.notification_type,3==i.notification_type,4==i.notification_type)),t.xp6(3),t.Q6J("ngClass",t.WLB(22,j,0==i.IsRead,1==i.IsRead)),t.xp6(3),t.Oqu(i.notification_name),t.xp6(2),t.hij(" ",t.xi3(10,6,i.created_on,"medium")," "),t.xp6(3),t.hij(" ",t.lcZ(13,9,i.created_on)," ")}}const X=[{path:"list",canActivate:[u.B],component:(()=>{class e{constructor(i,o,n,s){this.notificationService=i,this.dataService=o,this.route=n,this.router=s,this.allNotification=[],this.isReadMore=!0,this.holder={},this.route.queryParams.subscribe(f=>{f.url&&(this.redirectUrl=f.url)})}ngOnInit(){this.user=this.dataService.getUserFromLocalStorage(),this.getAllNotification()}markasReadNotificationByCustomerIds(i){3==i.noti_broadcast_type?(this.notificationId=i.notification_id,this.notificationService.markasReadNotificationByCustomerIds(this.notificationId).subscribe(o=>{console.log(o),this.redirectUrl=i.RedirectURL,this.router.navigate(this.redirectUrl?[this.redirectUrl]:["/notification/list"])})):(this.redirectUrl=i.RedirectURL,this.router.navigate(this.redirectUrl?[this.redirectUrl]:["/notification/list"])),this.getAllNotification()}getAllNotification(){this.notificationService.getAllNotification(this.user.customer_id).subscribe(i=>{console.log(i),this.allNotification=i.data})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(p),t.Y36(g.D),t.Y36(d.gz),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-list"]],decls:9,vars:1,consts:[[1,"notification-block","notification"],[1,"container"],[1,"row","notification-sec"],[1,"col-xs-12","text-center"],["class","alert d-flex align-items-center cursor-p","role","alert",3,"ngClass","click",4,"ngFor","ngForOf"],["role","alert",1,"alert","d-flex","align-items-center","cursor-p",3,"ngClass","click"],[1,"fa",3,"ngClass"],[1,"text"],[1,"envelope"],[1,"dates"],[1,"timeago"]],template:function(i,o){1&i&&(t.TgZ(0,"header"),t._UZ(1,"app-header"),t.qZA(),t.TgZ(2,"section",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7," Notification List "),t.qZA()(),t.YNc(8,K,14,25,"div",4),t.qZA()()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.allNotification))},dependencies:[l.mk,l.sg,C.P,l.uU,W.e],styles:['.container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:15px 20px #0000001a}.notification-block[_ngcontent-%COMP%]{background:#DE6262;background:linear-gradient(to bottom,#3f4c6b,#3f4c6b);float:left;width:100%;padding:50px 0;min-height:100vh}.notification-sec[_ngcontent-%COMP%]{padding:30px;position:relative}.notification-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:-10px;font-weight:800;font-size:30px;color:#3f4c6b}.notification-sec[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:" ";width:100px;height:5px;background:#3f4c6b;display:block;margin-top:20px;border-radius:3px;margin-left:auto;margin-right:auto}.notification[_ngcontent-%COMP%]{margin-top:35px}.unread[_ngcontent-%COMP%]{border:1px solid red}i[_ngcontent-%COMP%]{font-size:xx-large}.envelope[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:xx-small;position:absolute;margin-top:-10px;right:3%;transform:translateY(-50%)}.text[_ngcontent-%COMP%]{margin-left:15px;margin-right:36px;text-align:justify}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:large}.timeago[_ngcontent-%COMP%]{font-size:x-small;position:absolute;margin-top:5px;transform:translateY(-50%)}.dates[_ngcontent-%COMP%]{opacity:1;position:absolute;margin-top:5px;right:3%;transform:translateY(-50%);font-size:x-small}.limitTextHeight[_ngcontent-%COMP%]{height:25px;overflow:hidden}.readbtn[_ngcontent-%COMP%]{padding:0%;border:none;outline:none;font-weight:500;font-size:x-large;position:absolute;margin-top:-20px;right:2.6%;transform:translateY(-50%);background-color:inherit}']}),e})()},{path:"create",canActivate:[u.B],component:E},{path:"listforadmin",canActivate:[u.B],component:b},{path:"**",redirectTo:"create"}];let V=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(X),d.Bz]}),e})();var tt=a(2271);let it=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[u.B],imports:[l.ez,V,tt.m,m.Z.forRoot()]}),e})()}}]);